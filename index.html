<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waiting for you...</title>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Arial', sans-serif; }
        body { width: 100%; height: 100vh; overflow: hidden; background: #000; color: #fff; }

        #bg-video {
            position: absolute;
            top: 50%; left: 50%;
            min-width: 100%; min-height: 100%;
            transform: translate(-50%, -50%);
            z-index: -1;
            opacity: 0.6;
            object-fit: cover;
        }

        .container {
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: rgba(0,0,0,0.3);
        }

        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            padding: 40px;
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            max-width: 400px;
            width: 90%;
        }

        .profile-pic {
            width: 100px; height: 100px;
            border-radius: 50%;
            border: 3px solid #fff;
            margin-bottom: 20px;
            object-fit: cover;
        }

        .message {
            font-size: 1.2rem;
            margin-bottom: 30px;
            line-height: 1.4;
        }

        .btn-continue {
            display: inline-block;
            background: #fff;
            color: #000;
            padding: 15px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: 0.3s;
        }

        .btn-continue:hover { transform: scale(1.05); background: #eee; }
    </style>
</head>
<body>

    <video autoplay muted loop playsinline id="bg-video">
        <source src="" type="video/mp4">
    </video>

    <div class="container">
        <div class="card">
            <img src="" id="profile-img" class="profile-pic">
            
            <div class="message">
                <strong id="display-name">...</strong> is waiting for you to come.
            </div>

            <a href="#" id="target-link" class="btn-continue">Continue</a>
        </div>
    </div>

    <script>
        const videos = [
            "https://videos.pexels.com/video-files/856973/856973-hd_1920_1080_25fps.mp4",
            "https://videos.pexels.com/video-files/3125907/3125907-hd_1920_1080_25fps.mp4",
            "https://videos.pexels.com/video-files/2022395/2022395-hd_1920_1080_30fps.mp4"
        ];

        const profiles = [
            "https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200",
            "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=200",
            "https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=200"
        ];

        const names = ["Sarah", "Alex", "Chloe", "Daniel", "Zoe", "Ryan"];
        const buttonTexts = ["Continue", "Click Here", "Open Message", "Join Now"];

        function getRandom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

        document.addEventListener("DOMContentLoaded", () => {
            // 1. Setup Visual Random
            const selectedName = getRandom(names);
            document.getElementById("bg-video").src = getRandom(videos);
            document.getElementById("profile-img").src = getRandom(profiles);
            document.getElementById("display-name").innerText = selectedName;
            document.getElementById("target-link").innerText = getRandom(buttonTexts);

            // 2. Decode URL dari URL Path
            // Mengambil string setelah '?'
            const encodedData = window.location.search.substring(1); 
            
            if (encodedData) {
                try {
                    // Decode Base64 kembali ke URL asli
                    const decodedUrl = atob(encodedData);
                    document.getElementById("target-link").href = decodedUrl;
                } catch (e) {
                    console.error("Invalid URL format");
                    document.getElementById("target-link").innerText = "Link Expired";
                }
            }
        });
    </script>
</body>
</html>
